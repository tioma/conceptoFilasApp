<ion-view title="Inicio" ng-controller="inicioCtrl">
  <ion-content ng-if="initialRender" overflow-scroll="true" padding="true" class="has-header">
    <h1>Proyecto Fila</h1>
    <div ng-if="sistemaHabilitado" class="cardRight card assertive-bg">
      <div class="item item-text-wrap">
        <i class="icon ion-android-cart"></i>
        El sistema se encuentra habilitado. Las cajas <span ng-repeat="caja in cajasAtendiendo track by $index"><span ng-show="$last">y </span><span>{{caja.numero}}</span><span ng-show="!$last">, </span></span> están atendiendo
      </div>
    </div>
    <div ng-if="sistemaHabilitado && !haciendoFila" class="cardLeft card">
      <div ng-show="clientesEnCola > 0" class="item item-text-wrap">
        <i class="icon ion-android-person"></i>
        Actualmente hay {{clientesEnCola}} clientes haciendo la fila.
      </div>
      <div ng-show="clientesEnCola == 0" class="item item-text-wrap">
        <i class="icon ion-android-happy"></i>
        Actualmente no hay clientes haciendo la fila.
      </div>
    </div>
    <div ng-if="sistemaHabilitado && haciendoFila" class="cardLeft card">
      <div ng-show="clientesEnCola > 0" class="item item-text-wrap">
        <i class="icon ion-android-person"></i>
        Perfecto, ya estás en la fila. {{estadoFila}}
      </div>
    </div>
    <div ng-if="!sistemaHabilitado" class="cardRight card">
      <div class="item item-text-wrap assertive">
        <i class="icon ion-android-sad"></i>
        Lo sentimos, en este momento no hay cajas habilitadas.
      </div>
    </div>
    <a href="#" ng-show="!haciendoFila" ng-click="hacerFila()" class="zoomButton button button-calm button-block  icon-left ion-android-cart">Hacer la fila!</a>
    <a href="#" ng-show="haciendoFila" ng-click="retrasarme()" class="zoomButton button button-energized button-block  icon-left ion-android-contacts">Retrasarme</a>
    <a href="#" ng-show="haciendoFila" ng-click="irme()" class="zoomButton button button-assertive button-block  icon-left ion-android-cancel">Irme</a>
  </ion-content>
</ion-view>
